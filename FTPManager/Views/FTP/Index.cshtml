@{
    ViewData["Title"] = "Manage Files";
}

<h1 class="fw-bolder">@ViewData["Title"]</h1>

<div class="mt-5 text-center rounded-4 border border-1 shadow my-overflow">
    <div style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" class="fw-bold bg-light  p-3  border-bottom d-flex justify-content-between">
        <ol id="path" class="breadcrumb mb-0">

        </ol>
        <i id="loadingIcon" class="d-none fa-solid fa-spinner fa-spin-pulse fs-4"></i>
    </div>

    <table class="table table-responsive table-hover text-start">
        <thead class="sticky-top bg-light">
            <tr>
                <th>File Name</th>
                <th>File Size</th>
                <th>Last Modified</th>
                <th class="text-center col-5">Actions</th>
            </tr>
        </thead>
        <tbody id="showFiles">
        </tbody>
    </table>
</div>

<div class="mt-3">
    <button type="button" id="upload-modal-btn" class="btn btn-primary rounded-5 w-25 d-none" data-bs-toggle="modal" data-bs-target="#uploadModal">
        Upload Files Here
        <i class="fa-solid fa-upload ms-2"></i>
    </button>
</div>

<div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
            <div class="modal-header">
                <h3 class="modal-title fs-5" id="uploadModalLabel">Upload Files Here</h3>
            </div>
            <div class="form-group p-2">
                <form id="upload-form" enctype="multipart/form-data">
                    <input id="files" type="file" class="form-control input-field rounded-4" placeholder="Select Files To Upload" multiple name="files" />
                </form>
            </div>
            <div class="modal-footer ">
                <button type="button" class="m-auto btn btn-primary rounded-4 w-50" id="upload-btn">Upload <i class="ms-2 fa-solid fa-upload"></i></button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="PreviewModal" tabindex="-1" aria-labelledby="PreviewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content rounded-4 p-2" id="previewArea">

        </div>
    </div>
</div>

<div class="modal fade" id="ConnectModal" tabindex="-1" aria-labelledby="ConnectModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content rounded-4 p-2">
            <div class="modal-header">
                <h3 class="modal-title fs-5" id="ConnectModalLabel">Connect To FTP Server</h3>
            </div>
            <div class="form-group p-2">
                <form id="connect-form">
                    <input id="ftpHost" type="text" class="form-control input-field rounded-4" placeholder="FTP Host" name="Host" />
                    <input id="ftpUser" type="text" class="form-control input-field rounded-4 mt-2" placeholder="FTP User" name="UserName" />
                    <input id="ftpPass" type="password" class="form-control input-field rounded-4 mt-2" placeholder="FTP Password" name="Password" />
                </form>
            </div>
            <div class="modal-footer flex-column">
                <button type="button" class="m-auto btn btn-primary rounded-4 w-50" id="connect-btn">Connect</button>
                <div id="connectionResponse" class="fw-bolder pt-2 text-center"></div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/js/ftp.js"></script>
}